<!-- NAV BAR -->
<div class="navbar navbar-default" role="navigation" ng-controller='AuthCtrl'>
  <div class='container-fluid'>
    <div class="navbar-header">
      <a class="navbar-brand eco" href="/">
        <img src="eco.gif">
      </a>
    </div>

    <ul class='nav navbar-nav navbar-right' ng-show='loggedIn()'>
      <li>
        <p class='navbar-text'>Hello, {{ name }}</p>
      </li>
      <li>
        <a ng-click="logout()">Logout</a>
      </li>
    </ul>

  </div>
</div>
<!-- END NAV BAR -->


<!-- GROUPS -->
<div class='row'>
  <div class='col-sm-2 group-bar' ng-controller='GroupsCtrl'>
    <div class="add-group" ng-click='addGroupModal()'>
      Add A Group
    </div>

    <div ng-repeat='(groupId, group) in groups'>
      <div ng-click='switchTab($index)' class='row group-row'>
        <div>
          <h4> {{ group.name }}</h4>
        </div>
      </div>
      <div class='group-delete'>
        <a ng-click='removeGroup(groupId)'>X</a>
      </div>
      <div collapse='$parent.groupTab !== $index'>
        <div ng-repeat='(id, name) in group.members'>
          <div class='row'>
            <div class='col-sm-6'>
              {{ name }}
            </div>
            <div class='col-sm-3'>
              <button ng-click='removeMember(groupId, id)'>Delete</button>
            </div>
          </div>
        </div>
        <button ng-click='addMemberModal(groupId)'>Add Member</button>
      </div>

    </div>

    <h3 ng-if='!groups.$getIndex().length'>No Groups. Add One!</h3>
  </div>
  <!-- END GROUP -->

  <div class='col-sm-7'>
    <!--  Post Buttons  -->
    <div class='post-buttons'>
      <button class='btn btn-default' ng-click="textPostModal()">Text</button>
      <button class='btn btn-default' ng-click="imagePostModal()">Image</button>
      <button class='btn btn-default' ng-click="linkPostModal()">Link</button>
    </div>
    <!-- END POST Buttons -->

    <br>

    <!-- FILTERS-->
    <label>Filter by Group:</label>

    <multi-select input-model="groupsSelect" button-label="name" item-label="name" tick-property="selected" output-model="viewingGroups">
    </multi-select>
    <div ng-repeat="(id, post) in posts | postExists | byGroup: viewingGroups | orderBy:'timeStamp':true">
      <post post='post'></post>
    </div>
    <!-- END FILTERS -->
  </div>


  <!--FRIEND LISTS -->
  <div class='col-sm-3' ng-controller='FriendsCtrl'>

    <div class="btn-group">
      <button class='btn btn-default' ng-click="show('friendList')">Friends</button>
      <button class='btn btn-default' ng-click="show('addingFriends')">Add</button>
      <button class='btn btn-default' ng-click="show('pending')">Pending</button>
    </div>

    <div ng-repeat='(id, name) in friends' collapse="showing !== 'friendList'">
      <div class='row'>
        <div class='col-sm-3'>
          <button ng-click='removeFriend(id)'>Remove</button>
        </div>
        <div class='col-sm-9'>
          {{name}}
        </div>
      </div>
    </div>

    <div ng-repeat='friend in fbFriends | notFriends: friends: pendingInvites' collapse="showing !== 'addingFriends'">
      <div class='row'>
        <div class='col-sm-3'>
          <button ng-click='requestFriend(friend)'>+</button>
        </div>
        <div class='col-sm-9'>
          {{friend.name}}
        </div>
      </div>
    </div>

    <div ng-repeat='(id, name) in pendingInvites' collapse="showing !== 'pending'">
      <div class='row'>
        <div class='col-sm-3'>
          <button ng-click='cancelRequest(id)'>Remove</button>
        </div>
        <div class='col-sm-9'>
          {{name}}
        </div>
      </div>
    </div>

  </div>
  <!-- END FRIEND LIST -->
</div>


