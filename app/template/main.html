<div class="alert alert-danger" ng-if="error.text" ng-bind="error.text"></div>

<div class='col-sm-offset-5'>
  <button class='btn btn-default' ng-click='isPosting = !isPosting'>Text</button>
  <button class='btn btn-default' ng-click='isPosting = !isPosting'>Image</button>
  <button class='btn btn-default' ng-click='isPosting = !isPosting'>Link</button>
</div>

<div collapse='!isPosting'>
  <form name='post_form'>
    <div class='row'>
      <div class='col-sm-offset-3'>
        <label for='postArea'>Post</label>
      </div>
    </div>
    <div class='row'>
      <div class='col-sm-offset-3 col-sm-6'>
        <textarea class="form-control" rows="3" ng-model='postText'></textarea>
      </div>
    </div>
    <div class='row'>
      <div class='col-sm-offset-3 col-sm-1'>
        <button type='submit' class='btn btn-default' ng-click='makePost()'>Post</button>
      </div>
      <div class='col-sm-3'>
        <label>Group:</label>
        <select id='postGroup' ng-model='postGroup' ng-options='group.name for group in groups'>
        </select>
      </div>
    </div>
  </form>
  <br>
</div>

<div class='col-sm-3'>
  <button class='btn btn-default' ng-click='addGroupModal()'>Add Groups</button>
  <div ng-repeat='group in groups'>
    <h3 ng-click='switchTab($index)'> {{group.name }}</h3>
    <div collapse='$parent.groupTab !== $index'>
      <div ng-repeat='member in group.members'>
        <div class='row'>
          <div class='col-sm-6'>
            {{member.name}}
          </div>
          <div class='col-sm-3'>
            <button>Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <h3 ng-if='!groups.length'>No Groups. Add One!</h3>
</div>

<div class='col-sm-7'>
  <label>Filter by Group:</label>
  <select ng-options='group.name for group in groups' ng-model='currentGroup'>
  </select>
  <div ng-repeat='post in posts | filter: {group: currentGroup}'>
    <div class="panel panel-default">
      <div class="panel-body">
        {{ post.text }}
      </div>
    </div>
  </div>
</div>

<div class='col-sm-2'>
  <button class='btn btn-default' ng-click='showFriends = !showFriends'>Add Friends</button>
  <div ng-repeat='friend in me.fbFriends' collapse='!showFriends'>
    <div class='row'>
      <div class='col-sm-2'>
        <button>Add</button>
      </div>
      <div class='col-sm-10'>
        {{friend.name}}
      </div>
    </div>
  </div>
</div>
